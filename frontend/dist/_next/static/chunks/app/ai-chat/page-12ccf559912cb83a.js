(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{18691:function(e,t,n){Promise.resolve().then(n.bind(n,55797))},55797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var s=n(37821),i=n(58078),r=n(67469),a=n(27002),o=n(87769),c=n(70285),l=n(42347),d=n(43336),u=n(67414),m=n(76784),h=n(50897),g=n(49198),p=n(69086),f=n(55118),y=n(42780),x=n(82212),w=n(17737);function v(e){let{onMessage:t,onVoiceCommand:n,personalization:v,className:b=""}=e,[k,N]=(0,i.useState)([{id:"1",type:"ai",content:"Hello! I'm Wojat, your AI memecoin hunting assistant. I can help you find trending memecoins, analyze market data, and provide trading insights. What would you like to know?",timestamp:new Date}]),[j,S]=(0,i.useState)(""),[D,P]=(0,i.useState)(!1),[C,A]=(0,i.useState)(!1),[T,z]=(0,i.useState)(!1),I=(0,i.useRef)(null),M=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[k]);let R=async()=>{if(!j.trim()||D)return;let e={id:Date.now().toString(),type:"user",content:j,timestamp:new Date};N(t=>[...t,e]),S(""),P(!0),null==t||t(e);try{let e=await U(j),n={id:(Date.now()+1).toString(),type:"ai",content:e.content,timestamp:new Date,data:e.data};N(e=>[...e,n]),null==t||t(n)}catch(t){console.error("Error sending message:",t);let e={id:(Date.now()+1).toString(),type:"system",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};N(t=>[...t,e])}finally{P(!1)}},U=async e=>{await new Promise(e=>setTimeout(e,1e3+2e3*Math.random()));let t=e.toLowerCase();return t.includes("trending")||t.includes("trend")?{content:"Here are the current trending memecoins based on TikTok data:",data:{type:"trending",tokens:[{symbol:"BONK",price:12e-6,change:15.67,volume:"1.2M"},{symbol:"WIF",price:2.45,change:8.23,volume:"850K"},{symbol:"PEPE",price:1e-6,change:-3.45,volume:"650K"}]}}:t.includes("analysis")||t.includes("analyze")?{content:"Based on current market data and social sentiment, here's my analysis:",data:{type:"analysis",summary:"Strong bullish momentum detected across multiple memecoins with high TikTok engagement",recommendation:"Consider small positions in trending tokens with proper risk management",confidence:.75}}:t.includes("help")||t.includes("what can you do")?{content:"I can help you with:\n\n• Finding trending memecoins from TikTok\n• Analyzing market data and sentiment\n• Providing trading recommendations\n• Explaining trading strategies\n• Tracking your portfolio performance\n\nJust ask me anything about memecoin trading!",data:{type:"help"}}:{content:"I understand you're asking about memecoins. Could you be more specific about what you'd like to know? I can help with trending analysis, market insights, or trading recommendations.",data:{type:"general"}}},E=e=>{var t,n;return(null===(t=e.data)||void 0===t?void 0:t.type)==="trending"?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{children:e.content}),(0,s.jsx)("div",{className:"space-y-2",children:e.data.tokens.map((e,t)=>(0,s.jsx)(o.Zb,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(l.C,{variant:"outline",children:e.symbol}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:["$",e.price.toFixed(6)]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-sm ".concat(e.change>0?"text-green-500":"text-red-500"),children:[e.change>0?"+":"",e.change,"%"]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Vol: ",e.volume]})]})]})},t))})]}):(null===(n=e.data)||void 0===n?void 0:n.type)==="analysis"?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{children:e.content}),(0,s.jsx)(o.Zb,{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)("span",{className:"font-medium",children:"Analysis Summary"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.data.summary}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Recommendation:"}),(0,s.jsx)(l.C,{variant:"outline",children:e.data.recommendation})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"Confidence:"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(100*e.data.confidence),"%"]})]})]})})]}):(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})};return(0,s.jsxs)("div",{className:"flex flex-col h-full bg-background ".concat(b),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Z,{className:"h-6 w-6 text-blue-500"}),(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Wojat AI Assistant"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>z(!T),children:T?(0,s.jsx)(m.Z,{className:"h-4 w-4"}):(0,s.jsx)(h.Z,{className:"h-4 w-4"})})})]}),(0,s.jsx)(c.x,{className:"flex-1 p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[k.map(e=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"flex items-start space-x-2 max-w-[80%] ".concat("user"===e.type?"flex-row-reverse space-x-reverse":""),children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.type?"bg-blue-500 text-white":"ai"===e.type?"bg-green-500 text-white":"bg-gray-500 text-white"),children:"user"===e.type?(0,s.jsx)(g.Z,{className:"h-4 w-4"}):"ai"===e.type?(0,s.jsx)(u.Z,{className:"h-4 w-4"}):(0,s.jsx)(p.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"rounded-lg px-4 py-2 ".concat("user"===e.type?"bg-blue-500 text-white":"ai"===e.type?"bg-muted":"bg-yellow-100 text-yellow-800"),children:[e.isTyping?(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{className:"text-sm",children:"Wojat is typing..."})]}):E(e),(0,s.jsx)("div",{className:"text-xs opacity-70 mt-1",children:e.timestamp.toLocaleTimeString()})]})]})},e.id)),D&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)("div",{className:"flex items-start space-x-2 max-w-[80%]",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center",children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"rounded-lg px-4 py-2 bg-muted",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{className:"text-sm",children:"Wojat is thinking..."})]})})]})}),(0,s.jsx)("div",{ref:I})]})}),(0,s.jsxs)("div",{className:"p-4 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(a.I,{ref:M,value:j,onChange:e=>S(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R())},placeholder:"Ask Wojat about memecoins...",disabled:D,className:"flex-1"}),(0,s.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>{if(C){A(!1);return}if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){let e=new(window.webkitSpeechRecognition||window.SpeechRecognition);e.continuous=!1,e.interimResults=!1,e.lang="en-US",e.onstart=()=>{A(!0)},e.onresult=e=>{let t=e.results[0][0].transcript;S(t),null==n||n(t)},e.onend=()=>{A(!1)},e.onerror=e=>{console.error("Speech recognition error:",e.error),A(!1)},e.start()}else alert("Speech recognition not supported in this browser")},disabled:D,className:C?"bg-red-500 text-white":"",children:C?(0,s.jsx)(y.Z,{className:"h-4 w-4"}):(0,s.jsx)(x.Z,{className:"h-4 w-4"})}),(0,s.jsx)(r.z,{onClick:R,disabled:!j.trim()||D,size:"sm",children:(0,s.jsx)(w.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"Press Enter to send, or use voice input with the microphone button"})]})]})}var b=n(12758),k=n(17329),N=n(79775),j=n(80961),S=n(80555);class D{async initialize(){try{return console.log("\uD83E\uDD16 Initializing AI Agent Service..."),this.isInitialized=!0,console.log("✅ AI Agent Service initialized successfully (client-side mode)"),!0}catch(e){return console.error("❌ Failed to initialize AI Agent Service:",e),!1}}async sendMessage(e,t){try{this.isInitialized||await this.initialize(),console.log("\uD83D\uDCAC Sending message to AI agent:",e);let n=await this.processUserMessage(e,t);return{id:Date.now().toString(),type:"ai",content:n.content,timestamp:new Date,data:n.data}}catch(e){return console.error("❌ Error sending message to AI agent:",e),{id:Date.now().toString(),type:"system",content:"Sorry, I encountered an error processing your message. Please try again.",timestamp:new Date}}}async processUserMessage(e,t){let n=e.toLowerCase();return n.includes("trending")||n.includes("trend")?await this.handleTrendingQuery():n.includes("analysis")||n.includes("analyze")?await this.handleAnalysisQuery():n.includes("recommendation")||n.includes("recommend")?await this.handleRecommendationQuery():n.includes("portfolio")||n.includes("my tokens")?await this.handlePortfolioQuery():n.includes("help")||n.includes("what can you do")?this.handleHelpQuery():n.includes("price")||n.includes("$")?await this.handlePriceQuery(e):{content:"I understand you're asking about memecoins. I can help you with:\n\n• Finding trending memecoins from TikTok\n• Analyzing market data and sentiment\n• Providing trading recommendations\n• Explaining trading strategies\n• Tracking portfolio performance\n\nCould you be more specific about what you'd like to know?",data:{type:"general"}}}async handleTrendingQuery(){try{return{content:"Here are the current trending memecoins based on TikTok data and social sentiment:",data:{type:"trending",tokens:[{token:"BONK",price:12e-6,change24h:15.67,volume24h:125e4,marketCap:5e6,tiktokMentions:45,socialSentiment:.8,recommendation:"buy",confidence:.85},{token:"WIF",price:2.45,change24h:8.23,volume24h:85e4,marketCap:25e5,tiktokMentions:32,socialSentiment:.7,recommendation:"hold",confidence:.75},{token:"PEPE",price:1e-6,change24h:-3.45,volume24h:65e4,marketCap:15e5,tiktokMentions:28,socialSentiment:.6,recommendation:"watch",confidence:.65}],timestamp:new Date().toISOString()}}}catch(e){return console.error("Error handling trending query:",e),{content:"I'm having trouble fetching trending data right now. Please try again in a moment.",data:{type:"error"}}}}async handleAnalysisQuery(){try{return{content:"Based on current market data and social sentiment, here's my analysis:",data:{type:"analysis",analysis:{summary:"Strong bullish momentum detected across multiple memecoins with high TikTok engagement. Volume spikes indicate increased retail interest.",recommendation:"Consider small positions in trending tokens with proper risk management. Focus on tokens with strong social sentiment and volume.",confidence:.75,keyFactors:["High TikTok engagement for memecoin content","Increased trading volume across multiple tokens","Positive social sentiment on Twitter and Discord","Strong technical indicators on key tokens"],riskLevel:"medium",timeHorizon:"short"},timestamp:new Date().toISOString()}}}catch(e){return console.error("Error handling analysis query:",e),{content:"I'm having trouble analyzing the market right now. Please try again in a moment.",data:{type:"error"}}}}async handleRecommendationQuery(){try{return{content:"Here are my current trading recommendations based on market analysis:",data:{type:"recommendations",recommendations:[{token:"BONK",action:"BUY",reason:"High TikTok engagement and volume spike detected",confidence:.85,riskLevel:"Medium",targetPrice:15e-6,stopLoss:8e-6},{token:"WIF",action:"HOLD",reason:"Stable performance with consistent social mentions",confidence:.7,riskLevel:"Low",targetPrice:2.5,stopLoss:1.8}],timestamp:new Date().toISOString()}}}catch(e){return console.error("Error handling recommendation query:",e),{content:"I'm having trouble generating recommendations right now. Please try again in a moment.",data:{type:"error"}}}}async handlePortfolioQuery(){try{return{content:"Here's your current portfolio overview:",data:{type:"portfolio",portfolio:{totalValue:1162,totalChange:8.45,tokens:[{symbol:"BONK",amount:1e6,value:12,change:15.67},{symbol:"WIF",amount:50,value:100,change:8.23},{symbol:"SOL",amount:10.5,value:1050,change:5.12}]},timestamp:new Date().toISOString()}}}catch(e){return console.error("Error handling portfolio query:",e),{content:"I'm having trouble accessing your portfolio data right now. Please try again in a moment.",data:{type:"error"}}}}handleHelpQuery(){return{content:'I\'m Wojat, your AI memecoin hunting assistant! I can help you with:\n\n\uD83D\uDD0D **Finding Trending Memecoins**\n• "Show me trending memecoins"\n• "What\'s hot on TikTok right now?"\n\n\uD83D\uDCCA **Market Analysis**\n• "Analyze the current market"\n• "What\'s the market sentiment?"\n\n\uD83D\uDCA1 **Trading Recommendations**\n• "Give me trading recommendations"\n• "Should I buy BONK?"\n\n\uD83D\uDCC8 **Portfolio Tracking**\n• "Show my portfolio"\n• "How are my tokens performing?"\n\n\uD83C\uDF93 **Education**\n• "Explain risk management"\n• "How do I read charts?"\n\nJust ask me anything about memecoin trading!',data:{type:"help"}}}async handlePriceQuery(e){try{let t=e.match(/\$?([A-Z]{2,5})/i),n=t?t[1].toUpperCase():"UNKNOWN";return{content:"Here's the current price information for ".concat(n,":"),data:{type:"price",price:{token:n,price:12e-6,change24h:15.67,volume24h:125e4,marketCap:5e6,high24h:15e-6,low24h:8e-6},timestamp:new Date().toISOString()}}}catch(e){return console.error("Error handling price query:",e),{content:"I'm having trouble fetching price data right now. Please try again in a moment.",data:{type:"error"}}}}setUserPreferences(e){this.userPreferences=e,console.log("\uD83D\uDC64 User preferences updated:",e)}getUserPreferences(){return this.userPreferences}getSystemStatus(){return{status:"client-side",message:"Running in client-side mode - connect to backend API for full functionality"}}async startRealTimeUpdates(e){try{console.log("\uD83D\uDD04 Starting real-time updates..."),setInterval(()=>{e({type:"market_update",data:{timestamp:new Date().toISOString(),message:"Market data updated"}})},3e4)}catch(e){console.error("❌ Error starting real-time updates:",e)}}stopRealTimeUpdates(){console.log("⏹️ Stopping real-time updates...")}constructor(){this.userPreferences=null,this.isInitialized=!1}}let P=new D;class C{async initializeUser(e){try{let t=await this.loadUserProfileFromStorage(e);return t?this.userProfile=t:this.userProfile=await this.createDefaultProfile(e),await this.generateRecommendations(),this.userProfile}catch(e){throw console.error("❌ Error initializing user profile:",e),e}}async createDefaultProfile(e){let t={id:e,preferences:{riskTolerance:"medium",investmentGoals:["learn","profit"],favoriteTokens:[],notificationSettings:{trendingAlerts:!0,priceAlerts:!0,analysisUpdates:!0,voiceEnabled:!0,emailNotifications:!1,pushNotifications:!0},tradingExperience:"beginner",preferredAnalysisDepth:"basic",language:"en",timezone:"UTC"},tradingHistory:[],interests:["memecoins","trading","education"],riskProfile:{score:50,maxPositionSize:10,stopLossPercentage:15,takeProfitPercentage:50,maxDailyLoss:5,diversificationTarget:80},learningProgress:{completedTopics:[],currentLevel:"beginner",totalSessions:0,averageSessionTime:0,favoriteContentTypes:["trending","education"],improvementAreas:["risk-management","technical-analysis"]},createdAt:new Date,updatedAt:new Date};return await this.saveUserProfileToStorage(t),t}async updatePreferences(e){this.userProfile&&(this.userProfile.preferences={...this.userProfile.preferences,...e},this.userProfile.updatedAt=new Date,await this.saveUserProfileToStorage(this.userProfile),await this.generateRecommendations())}async recordTradingActivity(e){if(!this.userProfile)return;let t={...e,id:Date.now().toString(),timestamp:new Date};this.userProfile.tradingHistory.push(t),this.userProfile.updatedAt=new Date,await this.updateRiskProfile(),await this.saveUserProfileToStorage(this.userProfile)}async updateRiskProfile(){if(!this.userProfile)return;let e=this.userProfile.tradingHistory.slice(-10),t=e.length;if(0===t)return;let n=e.reduce((e,t)=>e+t.amount,0)/t,s=e.filter(e=>(e.profitLoss||0)>0).length/t,i=this.calculateAverageHoldTime(e),r=this.userProfile.riskProfile.score;n>20&&(r+=10),s>.7&&(r+=5),i<24&&(r+=15),r=Math.max(0,Math.min(100,r)),this.userProfile.riskProfile={...this.userProfile.riskProfile,score:r,maxPositionSize:Math.min(20,r/5),stopLossPercentage:Math.max(5,20-r/5),takeProfitPercentage:Math.min(100,30+r/2)}}calculateAverageHoldTime(e){let t=e.filter(e=>"buy"===e.action),n=e.filter(e=>"sell"===e.action);return 0===t.length||0===n.length?48:24}async generateRecommendations(){if(!this.userProfile)return[];let e=[];return this.userProfile.preferences.notificationSettings.trendingAlerts&&e.push(...await this.generateTrendingRecommendations()),this.userProfile.preferences.notificationSettings.analysisUpdates&&e.push(...await this.generateAnalysisRecommendations()),"beginner"===this.userProfile.learningProgress.currentLevel&&e.push(...await this.generateEducationalRecommendations()),this.recommendations=this.prioritizeRecommendations(e),this.recommendations}async generateTrendingRecommendations(){var e;let t=[];return(null===(e=this.userProfile)||void 0===e?void 0:e.preferences.favoriteTokens.includes("BONK"))&&t.push({id:"trending-".concat(Date.now()),type:"trending",priority:"high",title:"BONK Trending Alert",content:"BONK is showing strong momentum with high TikTok engagement!",reason:"You follow BONK and it's trending",confidence:.85,expiresAt:new Date(Date.now()+864e5),createdAt:new Date}),t}async generateAnalysisRecommendations(){var e;let t=[],n=(null===(e=this.userProfile)||void 0===e?void 0:e.preferences.riskTolerance)||"medium";return t.push({id:"analysis-".concat(Date.now()),type:"analysis",priority:"medium",title:"Personalized Market Analysis",content:"Based on your ".concat(n," risk tolerance, here's what I recommend..."),reason:"Regular analysis update based on your preferences",confidence:.75,expiresAt:new Date(Date.now()+72e5),createdAt:new Date}),t}async generateEducationalRecommendations(){var e;let t=[];for(let n of(null===(e=this.userProfile)||void 0===e?void 0:e.learningProgress.improvementAreas)||[])t.push({id:"education-".concat(n,"-").concat(Date.now()),type:"education",priority:"low",title:"Learn about ".concat(n.replace("-"," ")),content:"I noticed you want to improve your ".concat(n," skills. Here's a helpful guide..."),reason:"Based on your learning goals",confidence:.9,expiresAt:new Date(Date.now()+6048e5),createdAt:new Date});return t}prioritizeRecommendations(e){return e.sort((e,t)=>{let n={high:3,medium:2,low:1},s=n[t.priority]-n[e.priority];return 0!==s?s:t.confidence-e.confidence})}getPersonalizedContent(e,t){if(!this.userProfile)return t;switch(e){case"trending":return this.personalizeTrendingContent(t);case"analysis":return this.personalizeAnalysisContent(t);case"recommendation":return this.personalizeRecommendationContent(t);default:return t}}personalizeTrendingContent(e){var t,n;let s=(null===(t=this.userProfile)||void 0===t?void 0:t.preferences.riskTolerance)||"medium",i=(null===(n=this.userProfile)||void 0===n?void 0:n.preferences.favoriteTokens)||[];return e.tokens&&(e.tokens=e.tokens.map(e=>({...e,isFavorite:i.includes(e.symbol),riskLevel:this.calculateTokenRiskLevel(e,s)})).sort((e,t)=>e.isFavorite&&!t.isFavorite?-1:!e.isFavorite&&t.isFavorite?1:t.confidence-e.confidence)),e}calculateTokenRiskLevel(e,t){let n=Math.abs(e.change24h||0);return"low"===t?n<10?"low":n<20?"medium":"high":"medium"===t?n<15?"low":n<30?"medium":"high":n<25?"low":n<50?"medium":"high"}personalizeAnalysisContent(e){var t,n,s;let i=(null===(t=this.userProfile)||void 0===t?void 0:t.preferences.tradingExperience)||"beginner",r=(null===(n=this.userProfile)||void 0===n?void 0:n.preferences.preferredAnalysisDepth)||"basic";return("beginner"===i||"basic"===r)&&(e.summary=this.simplifyAnalysis(e.summary),e.keyFactors=null===(s=e.keyFactors)||void 0===s?void 0:s.slice(0,3)),e}simplifyAnalysis(e){return e.replace(/bullish momentum/g,"positive trend").replace(/bearish sentiment/g,"negative sentiment").replace(/technical indicators/g,"chart patterns").replace(/liquidity/g,"trading volume")}personalizeRecommendationContent(e){var t;let n=null===(t=this.userProfile)||void 0===t?void 0:t.riskProfile;return e.recommendations&&(e.recommendations=e.recommendations.map(e=>({...e,personalizedRisk:this.calculatePersonalizedRisk(e,n),positionSize:this.calculatePositionSize(e,n)}))),e}calculatePersonalizedRisk(e,t){if(!t)return"medium";let n=e.riskLevel||"medium",s=t.score;return s<30?"low":s>70?"high":n}calculatePositionSize(e,t){return t?Math.round(t.maxPositionSize*(e.confidence||.5)):5}async loadUserProfileFromStorage(e){try{let t=localStorage.getItem("userProfile_".concat(e));return t?JSON.parse(t):null}catch(e){return console.error("Error loading user profile:",e),null}}async saveUserProfileToStorage(e){try{localStorage.setItem("userProfile_".concat(e.id),JSON.stringify(e))}catch(e){console.error("Error saving user profile:",e)}}loadUserProfile(){console.log("\uD83D\uDC64 Loading user profile...")}getUserProfile(){return this.userProfile}getRecommendations(){return this.recommendations}markRecommendationAsRead(e){this.recommendations=this.recommendations.filter(t=>t.id!==e)}constructor(){this.userProfile=null,this.recommendations=[],this.learningData=new Map,this.loadUserProfile()}}let A=new C;var T=n(59792);class z{initializeService(){console.log("\uD83D\uDD04 Initializing Real-time Service..."),this.connect(),this.setupPeriodicUpdates(),this.setupNotifications()}connect(){try{let e=T.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8080/ws";this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("✅ WebSocket connected"),this.isConnected=!0,this.reconnectAttempts=0,this.authenticate()},this.ws.onmessage=e=>{this.handleMessage(e.data)},this.ws.onclose=()=>{console.log("❌ WebSocket disconnected"),this.isConnected=!1,this.scheduleReconnect()},this.ws.onerror=e=>{console.error("❌ WebSocket error:",e),this.isConnected=!1}}catch(e){console.error("❌ Error connecting to WebSocket:",e),this.scheduleReconnect()}}authenticate(){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;let e={type:"auth",token:this.getAuthToken(),userId:this.getUserId()};this.ws.send(JSON.stringify(e))}handleMessage(e){try{let t=JSON.parse(e);switch(t.type){case"price_update":this.handlePriceUpdate(t.data);break;case"trending_update":this.handleTrendingUpdate(t.data);break;case"alert":this.handleAlert(t.data);break;case"news":this.handleNewsUpdate(t.data);break;case"social":this.handleSocialUpdate(t.data);break;default:console.log("Unknown message type:",t.type)}}catch(e){console.error("❌ Error handling WebSocket message:",e)}}handlePriceUpdate(e){this.priceCache.set(e.token,e);let t={id:"price_".concat(e.token,"_").concat(Date.now()),type:"price",data:e,timestamp:new Date,priority:this.calculatePricePriority(e)};this.notifySubscribers(t)}handleTrendingUpdate(e){this.trendingCache.set(e.token,e);let t={id:"trending_".concat(e.token,"_").concat(Date.now()),type:"trending",data:e,timestamp:new Date,priority:this.calculateTrendingPriority(e)};this.notifySubscribers(t)}handleAlert(e){this.alertCache.set("".concat(e.type,"_").concat(e.token),e);let t={id:"alert_".concat(e.type,"_").concat(e.token,"_").concat(Date.now()),type:"alert",data:e,timestamp:new Date,priority:"high"};this.notifySubscribers(t),this.showNotification(e)}handleNewsUpdate(e){let t={id:"news_".concat(Date.now()),type:"news",data:e,timestamp:new Date,priority:"high"===e.impact?"high":"medium"};this.notifySubscribers(t)}handleSocialUpdate(e){let t={id:"social_".concat(e.platform,"_").concat(Date.now()),type:"social",data:e,timestamp:new Date,priority:"low"};this.notifySubscribers(t)}calculatePricePriority(e){let t=Math.abs(e.change24h);return t>50?"urgent":t>25?"high":t>10?"medium":"low"}calculateTrendingPriority(e){return e.volumeSpike&&e.priceSpike?"urgent":e.volumeSpike||e.priceSpike?"high":e.confidence>.8?"medium":"low"}notifySubscribers(e){this.subscribers.forEach((t,n)=>{try{t(e)}catch(e){console.error("❌ Error notifying subscriber ".concat(n,":"),e)}})}showNotification(e){"granted"===Notification.permission&&new Notification("Alert: ".concat(e.token),{body:e.message,icon:"/wojat.png",tag:"alert_".concat(e.token)})}subscribe(e,t){this.subscribers.set(e,t),console.log("\uD83D\uDCE1 Subscribed to real-time updates: ".concat(e))}unsubscribe(e){this.subscribers.delete(e),console.log("\uD83D\uDCE1 Unsubscribed from real-time updates: ".concat(e))}getPriceData(e){return this.priceCache.get(e)||null}getTrendingData(e){return this.trendingCache.get(e)||null}getAlertData(e,t){return this.alertCache.get("".concat(e,"_").concat(t))||null}setupPeriodicUpdates(){setInterval(()=>{this.isConnected||this.simulateUpdates()},3e4)}simulateUpdates(){["BONK","WIF","PEPE","SOL"].forEach(e=>{this.handlePriceUpdate({token:e,price:1e-4*Math.random()+1e-5,change24h:(Math.random()-.5)*40,volume24h:2e6*Math.random(),marketCap:1e7*Math.random(),high24h:2e-4*Math.random(),low24h:5e-5*Math.random()})})}scheduleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("❌ Max reconnection attempts reached");return}this.reconnectAttempts++;let e=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log("\uD83D\uDD04 Reconnecting in ".concat(e,"ms (attempt ").concat(this.reconnectAttempts,")")),setTimeout(()=>{this.connect()},e)}setupNotifications(){"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e?console.log("✅ Notification permission granted"):console.log("❌ Notification permission denied")})}getAuthToken(){return localStorage.getItem("authToken")||""}getUserId(){return localStorage.getItem("userId")||"anonymous"}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("⚠️ WebSocket not connected, cannot send message")}isWebSocketConnected(){var e;return this.isConnected&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.isConnected=!1,this.subscribers.clear(),console.log("\uD83D\uDCE1 Real-time service disconnected")}getStatus(){return{connected:this.isConnected,subscribers:this.subscribers.size,priceCache:this.priceCache.size,trendingCache:this.trendingCache.size,alertCache:this.alertCache.size,reconnectAttempts:this.reconnectAttempts}}constructor(){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.isConnected=!1,this.subscribers=new Map,this.priceCache=new Map,this.trendingCache=new Map,this.alertCache=new Map,this.initializeService()}}let I=new z;function M(){let[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)([]),[c,m]=(0,i.useState)([]),[h,g]=(0,i.useState)(null),[p,f]=(0,i.useState)(!0);(0,i.useEffect)(()=>((async()=>{try{console.log("\uD83D\uDE80 Initializing AI Chat Page..."),await P.initialize(),await A.initializeUser("user_123"),I.subscribe("ai-chat",y);let e=A.getUserProfile();g((null==e?void 0:e.preferences)||null);let n=A.getRecommendations();a(n),t(!0),f(!1),console.log("✅ AI Chat Page initialized successfully")}catch(e){console.error("❌ Error initializing AI Chat Page:",e),f(!1)}})(),()=>{I.unsubscribe("ai-chat")}),[]);let y=(0,i.useCallback)(e=>{m(t=>[e,...t.slice(0,9)]),("urgent"===e.priority||"high"===e.priority)&&x(e)},[]),x=e=>{"Notification"in window&&"granted"===Notification.permission&&new Notification("Wojat Alert: ".concat(e.type),{body:"New ".concat(e.type," update available"),icon:"/wojat.png"})},w=async e=>{try{let t=await P.sendMessage(e.content);return"user"===e.type&&console.log("\uD83D\uDCDD Updating user preferences based on message:",e.content),t}catch(e){return console.error("❌ Error handling chat message:",e),{id:Date.now().toString(),type:"system",content:"Sorry, I encountered an error processing your message. Please try again.",timestamp:new Date}}},D=e=>{A.markRecommendationAsRead(e),a(t=>t.filter(t=>t.id!==e))};return p?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500/20 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Initializing AI Assistant..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-background",children:(0,s.jsx)("div",{className:"container mx-auto p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-screen",children:[(0,s.jsx)("div",{className:"lg:col-span-3",children:(0,s.jsx)(o.Zb,{className:"h-full",children:(0,s.jsx)(v,{onMessage:w,onVoiceCommand:e=>{console.log("\uD83C\uDFA4 Voice command received:",e),P.sendMessage(e)},personalization:h,className:"h-full"})})}),(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,s.jsxs)(o.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 text-blue-500"}),(0,s.jsx)("h3",{className:"font-semibold",children:"System Status"})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"AI Agent:"}),(0,s.jsx)(l.C,{variant:e?"default":"destructive",children:e?"Online":"Offline"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Real-time:"}),(0,s.jsx)(l.C,{variant:I.isWebSocketConnected()?"default":"secondary",children:I.isWebSocketConnected()?"Connected":"Simulated"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Updates:"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:c.length})]})]})]}),(0,s.jsxs)(o.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5 text-green-500"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Recommendations"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[n.slice(0,3).map(e=>(0,s.jsx)("div",{className:"p-2 bg-muted rounded-lg cursor-pointer hover:bg-muted/80",onClick:()=>D(e.id),children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.content.substring(0,50),"..."]})]}),(0,s.jsx)(l.C,{variant:"high"===e.priority?"destructive":"medium"===e.priority?"default":"secondary",className:"ml-2",children:e.priority})]})},e.id)),0===n.length&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recommendations yet"})]})]}),(0,s.jsxs)(o.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(k.Z,{className:"h-5 w-5 text-yellow-500"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Live Updates"})]}),(0,s.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[c.slice(0,5).map(e=>{var t,n;return(0,s.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(l.C,{variant:"urgent"===e.priority?"destructive":"high"===e.priority?"default":"secondary",className:"text-xs",children:e.type}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]}),(0,s.jsx)("p",{className:"text-xs mt-1 text-muted-foreground",children:(null===(t=e.data)||void 0===t?void 0:t.message)||(null===(n=e.data)||void 0===n?void 0:n.content)||"Update received"})]},e.id)}),0===c.length&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No updates yet"})]})]}),(0,s.jsxs)(o.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)(N.Z,{className:"h-5 w-5 text-gray-500"}),(0,s.jsx)("h3",{className:"font-semibold",children:"Quick Actions"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>P.sendMessage("Show me trending memecoins"),children:[(0,s.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Trending Analysis"]}),(0,s.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>P.sendMessage("Analyze the current market"),children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Market Analysis"]}),(0,s.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>P.sendMessage("Show my portfolio"),children:[(0,s.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Portfolio"]}),(0,s.jsxs)(r.z,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>P.sendMessage("Help me learn about trading"),children:[(0,s.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Learn Trading"]})]})]})]})]})})})}},42347:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var s=n(37821);n(58078);var i=n(898),r=n(48908);let a=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...i}=e;return(0,s.jsx)("div",{className:(0,r.cn)(a({variant:n}),t),...i})}},67469:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var s=n(37821),i=n(58078),r=n(97035),a=n(898),o=n(48908);let c=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:n,variant:i,size:a,asChild:l=!1,...d}=e,u=l?r.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(c({variant:i,size:a,className:n})),ref:t,...d})});l.displayName="Button"},87769:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return l},Zb:function(){return a},aY:function(){return d},ll:function(){return c}});var s=n(37821),i=n(58078),r=n(48908);let a=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...i})});a.displayName="Card";let o=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...i})});o.displayName="CardHeader";let c=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...i})});c.displayName="CardTitle";let l=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...i})});l.displayName="CardDescription";let d=i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",n),...i})});d.displayName="CardContent",i.forwardRef((e,t)=>{let{className:n,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",n),...i})}).displayName="CardFooter"},27002:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var s=n(37821),i=n(58078),r=n(48908);let a=i.forwardRef((e,t)=>{let{className:n,type:i,...a}=e;return(0,s.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...a})});a.displayName="Input"},70285:function(e,t,n){"use strict";n.d(t,{B:function(){return c},x:function(){return o}});var s=n(37821),i=n(58078),r=n(25962),a=n(48908);let o=i.forwardRef((e,t)=>{let{className:n,children:i,...o}=e;return(0,s.jsxs)(r.fC,{ref:t,className:(0,a.cn)("relative overflow-hidden",n),...o,children:[(0,s.jsx)(r.l_,{className:"h-full w-full rounded-[inherit]",children:i}),(0,s.jsx)(c,{}),(0,s.jsx)(r.Ns,{})]})});o.displayName=r.fC.displayName;let c=i.forwardRef((e,t)=>{let{className:n,orientation:i="vertical",...o}=e;return(0,s.jsx)(r.gb,{ref:t,orientation:i,className:(0,a.cn)("flex touch-none select-none transition-colors","vertical"===i&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===i&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...o,children:(0,s.jsx)(r.q4,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=r.gb.displayName},48908:function(e,t,n){"use strict";n.d(t,{EV:function(){return u},Xn:function(){return a},__:function(){return c},cn:function(){return r},iM:function(){return l},o0:function(){return d},pi:function(){return o}});var s=n(52605),i=n(31638);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,s.W)(t))}function a(e){return"".concat(e.slice(0,6),"...").concat(e.slice(-4))}function o(e){let t=new Date,n=new Date(e),s=t.getTime()-n.getTime(),i={seconds:Math.floor(s/1e3),minutes:Math.floor(s/6e4),hours:Math.floor(s/36e5),days:Math.floor(s/864e5),months:Math.floor(s/2592e6),years:Math.floor(s/31536e6)};return i.years>0?"".concat(i.years,"y ago"):i.months>0?"".concat(i.months,"mo ago"):i.days>0?"".concat(i.days,"d ago"):i.hours>0?"".concat(i.hours,"h ago"):i.minutes>0?"".concat(i.minutes,"m ago"):i.seconds>0?"".concat(i.seconds,"s ago"):"Just now"}function c(e){if(e<1e3)return e.toString();let t=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,t)).toFixed(2)).toString()+[""," K"," M"," B"][t]}let l=(e,t,n,s,i)=>{if(!e||!Array.isArray(e)||0===e.length)return console.warn("processTradeData: trades parameter is undefined, null, or empty array"),[];let r=Date.now()-({"30m":18e5,"1h":36e5,"3h":108e5,"24h":864e5,"7d":6048e5})[i],a=e.filter(e=>new Date(e.trade_at).getTime()>=r).sort((e,t)=>new Date(e.trade_at).getTime()-new Date(t.trade_at).getTime());if(0===a.length)return console.warn("processTradeData: No trades found within the specified timeframe"),[];let o=a.map((e,r)=>{let o=new Date(e.trade_at);return{timestamp:m(e.trade_at,i),rawTimestamp:o.getTime(),price:e.price_usd,popularity:function(e,t,n,s,i,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.7,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.3,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1e-5,l=r-t,d=(n-e)/(s-t),u=(e+d*l)*a+Math.min(i/1e7,1)*o;return u*=1/(1+c*l),d>0&&(u*=1+Math.min(100*d,.5)),Math.max(u,.01)}(t,new Date(a[0].trade_at).getTime(),n,new Date(a[a.length-1].trade_at).getTime(),s,o.getTime())}});return console.log("RETURN DATA"),console.log(o),o},d=e=>new Date(e).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short",year:"numeric"});function u(e){if(0===e)return"0.000";let t=Math.abs(e),n=Number(t.toFixed(Math.max(0,3-Math.floor(Math.log10(t)))));return(e<0?-n:n).toString()}let m=(e,t)=>{let n=new Date(e);switch(t){case"30m":case"1h":case"3h":return"".concat(n.getHours(),":").concat(String(n.getMinutes()).padStart(2,"0"));case"24h":return"".concat(String(n.getHours()).padStart(2,"0"),":00");case"7d":return n.toLocaleDateString("en-US",{weekday:"short"});default:return e}}}},function(e){e.O(0,[966,962,575,115,364,744],function(){return e(e.s=18691)}),_N_E=e.O()}]);